import java.util.Scanner;
import java.io.UnsupportedEncodingException;
import java.util.Properties;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.PasswordAuthentication;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.AddressException;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;


 class eventhandler 
{
  public void Send Mail (int bookingid, String eventtype, String eventdate,String email)
 {
        final String username = "tmrdesign22@gmail.com";
        final String password = "Mafanato1";

        Properties props = new Properties();
        props.put("mail.smtp.starttls.enable", "true");
        props.put("mail.smtp.auth", "true");
        props.put("mail.smtp.host", "smtp.gmail.com");
        props.put("mail.smtp.port", "587");

        Session session = Session.getInstance(props,
          new javax.mail.Authenticator() {
            protected PasswordAuthentication getPasswordAuthentication() {
                return new PasswordAuthentication(username, password);
            }
          });

        try {

            Message message = new MimeMessage(session);
            message.setFrom(new InternetAddress("tmrdesign22@gmail.com"));
            message.setRecipients(Message.RecipientType.TO,
                InternetAddress.parse(email));
            message.setSubject("Booking Confirmed");
            message.setText("Greetings ðŸ‘‹"+"\n\n
            Congratulations your booking has been confirmed: "+ bookingid
                +"\n\n We would like to inform you that your event booking has been confirmed"+ "\n* *********************************"+"\n\n
                Event type: "+ eventtype+
                +"\n\n
            Date of Event : "+ eventdate+"\n\n
          %%%%%%%%%  we cant wait work with you to create magic #%%%%%%"
                + "\n Kind Regards\n Miss Raheal");

            Transport.send(message);

            System.out.println("Done");

        } catch (MessagingException e) {
            throw new RuntimeException(e);
        }
    }
    Public void getdiscount(int numberofguest)
{
  if (numberofguest>40)
  {
      
      int discountprice = computeprice(numberofguest)* 10%;
      int afterdprice= totalprice-discountprice;
      System.out.println("Discount calculated");
      System.out.println("Total Price: R"+afterdprice);
  }
  else
  {
    System.out.println("Dont qualify for Discount");
    System.out.println("Total Price: R"+computeprice(numberofguest);
    

  } 
}
Public void getpercentage(int numberofguest)
{
   int totalprice= getdiscount(numberofguest);
   int halfprice=totalprice*50%;
  if ( totalprice-halfprice=halfprice)
  {
    System.out.println("Booking Confirmed");
    
  }
  else
  {
    System.out.println("Booking Not confirmed");
   
  }
}
public void setguests(int numberofguest)
{
    this.noofguest=numberofguest;
    computeprice(numberofguest);
}
private void computeprice(int numberofguest)
{
   int totalprice= numberofguest*priceperguest;
   System.out.println("Total Price: R"+totalprice);
   
}

public void Gettingnoofadults()
{
    Scanner scannner = new Scanner (System.in);
    int noofadults;
    System.out.println("Please Enter the Number of Adults attending the event: ");
    noofadults=interger.parse(scannner.nextLine());
    System.out.println("Number of adults: "+ noofadults);
     

}
public void Gettingnoofkids()
{
    Scanner scannner = new Scanner (System.in);
    int noofkids;
    System.out.println("Please Enter the Number of Adults attending the event: ");
    noofkids=interger.parse(scannner.nextLine());
    System.out.println("Number of kids: "+ noofkids);
   

}
public void GettingEventtype()
{
    Scanner scannner = new Scanner (System.in);
    String eventype;
    System.out.println("Please Enter your event Type From the given options;");
    System.out.print("\n1.Bapitism  \n2.Wedding \n3. Year end function \n4 Baby shower \n5 Birthday \n6 Other ");
    int option=scanner.nextInt();
    switch (option)
     {
        case 1:

             System.out.println("We palnning an Bapitism ");
             Gettingnoofadults();
             // add methods of decorations 
             //add methods of event details 
             //add methods of payment;
            break;
         case 2:

            System.out.println("Congratulation on the wedding ");
             Gettingnoofadults();
             // add methods of decorations 
             //add methods of event details 
             //add methods of payment;
            break;
         case 3:

             System.out.println("We palnning a year end party");
             Gettingnoofadults();
             // add methods of decorations 
             //add methods of event details 
             //add methods of payment;
            break;
        case 4:

             System.out.println("New member in the family ,we are palnning a baby shower");
             Gettingnoofadults();
             // add methods of decorations 
             //add methods of event details 
             //add methods of payment;
            break;
        case 5:

             System.out.println("It is a birthday party");
             Gettingnoofadults();
             // add methods of decorations 
              //add methods of event details 
             //add methods of payment;
           break;
    
        case 6:
            // Scanner scannner = new Scanner (System.in);
              String typeofevent;
              System.out.println("Please enter the type of event");
              typeofevent=scannner.nextLine();
              System.out.println("We planning an:" + typeofevent);
              Gettingnoofadults();
             // add methods of decorations 
             //add methods of event details 
              //add methods of payment;
          break;
        default:
        System.out.println("ERROR!!! Please enter the type of event ");
            break;
    }

}




}
